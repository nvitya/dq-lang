// DQ Enum Syntax

type TProcState : uint8 = (psIdle, psRising, psFalling, psSaving);

var curstate : TProcState := psIdle;
var prevvalue : int = 0;

function HandleState(value : int)
{
  if curstate = psIdle
  {
    if value > prevvalue
    {
      curstate = psRising;
    }
    else if value < prevvalue
    {
      curstate = psFalling;
    }
  }
  else if curstate = psRising
  {
    ...
  }
  prevvalue = value;
}